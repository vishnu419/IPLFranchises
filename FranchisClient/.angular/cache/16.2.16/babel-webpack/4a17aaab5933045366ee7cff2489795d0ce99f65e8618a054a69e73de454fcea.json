{"ast":null,"code":"var _ProductGridComponent;\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../core/services/product.service\";\nimport * as i2 from \"../core/services/cart.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction ProductGridComponent_option_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 10);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const s_r5 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", s_r5);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(s_r5);\n  }\n}\nfunction ProductGridComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Loading products\\u2026\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductGridComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r2.error);\n  }\n}\nfunction ProductGridComponent_div_11_div_1_p_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const product_r7 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(product_r7.franchiseName);\n  }\n}\nfunction ProductGridComponent_div_11_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵelement(1, \"img\", 15);\n    i0.ɵɵelementStart(2, \"div\", 16)(3, \"h3\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, ProductGridComponent_div_11_div_1_p_5_Template, 2, 1, \"p\", 17);\n    i0.ɵɵelementStart(6, \"p\", 18);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function ProductGridComponent_div_11_div_1_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const product_r7 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r10.addToCart(product_r7));\n    });\n    i0.ɵɵtext(9, \"Add to Cart\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const product_r7 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", product_r7.imageUrl || \"assets/ipl1.png\", i0.ɵɵsanitizeUrl)(\"alt\", product_r7.name || \"Product\")(\"title\", product_r7.name || \"Product\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(product_r7.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", product_r7.franchiseName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\\u20B9\", product_r7.price, \"\");\n  }\n}\nfunction ProductGridComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtemplate(1, ProductGridComponent_div_11_div_1_Template, 10, 6, \"div\", 13);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.products);\n  }\n}\nfunction ProductGridComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 20)(1, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function ProductGridComponent_div_12_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.onPageChange(ctx_r12.page - 1));\n    });\n    i0.ɵɵtext(2, \"Prev\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function ProductGridComponent_div_12_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.onPageChange(ctx_r14.page + 1));\n    });\n    i0.ɵɵtext(6, \"Next\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", ctx_r4.page === 1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"Page \", ctx_r4.page, \" of \", ctx_r4.totalPages, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", ctx_r4.page === ctx_r4.totalPages);\n  }\n}\nexport class ProductGridComponent {\n  constructor(productService, cart) {\n    this.productService = productService;\n    this.cart = cart;\n    this.products = [];\n    this.page = 1;\n    this.pageSize = 12;\n    this.totalProducts = 0;\n    this.loading = false;\n    this.error = null;\n    // filters/controls\n    this.search = '';\n    this.pageSizeOptions = [8, 12, 24, 48];\n    this.cartProductIds = new Set();\n  }\n  ngOnInit() {\n    this.loadProducts();\n    this.cartSub = this.cart.state$.subscribe(state => {\n      this.cartProductIds = new Set(state.items.map(i => i.productId));\n    });\n  }\n  ngOnDestroy() {\n    if (this.cartSub) this.cartSub.unsubscribe();\n  }\n  get totalPages() {\n    return Math.max(1, Math.ceil(this.totalProducts / this.pageSize));\n  }\n  loadProducts() {\n    this.loading = true;\n    this.error = null;\n    this.productService.getProducts(this.page, this.pageSize).subscribe({\n      next: res => {\n        this.products = (res.items ?? []).map(p => ({\n          ...p,\n          imageUrl: p.imageUrl ?? 'assets/ipl1.png'\n        }));\n        this.totalProducts = res.totalCount ?? this.products.length;\n        this.loading = false;\n      },\n      error: err => {\n        this.error = 'Failed to load products';\n        this.loading = false;\n        console.error(err);\n      }\n    });\n  }\n  onSearch() {\n    if (!this.search.trim()) {\n      this.page = 1;\n      this.loadProducts();\n      return;\n    }\n    this.loading = true;\n    this.error = null;\n    this.productService.searchProducts(this.search).subscribe({\n      next: items => {\n        this.products = (items ?? []).map(p => ({\n          ...p,\n          imageUrl: p.imageUrl ?? 'assets/ipl1.png'\n        }));\n        this.totalProducts = this.products.length;\n        this.page = 1;\n        this.loading = false;\n      },\n      error: err => {\n        this.error = 'Search failed';\n        this.loading = false;\n        console.error(err);\n      }\n    });\n  }\n  onPageChange(page) {\n    if (page < 1 || page > this.totalPages) return;\n    this.page = page;\n    this.loadProducts();\n  }\n  onPageSizeChange() {\n    this.page = 1;\n    this.loadProducts();\n  }\n  addToCart(p) {\n    this.cart.add({\n      productId: p.id,\n      name: p.name ?? 'Product',\n      price: p.price,\n      imageUrl: p.imageUrl ?? 'assets/ipl1.png'\n    }, 1);\n  }\n  isInCart(productId) {\n    return this.cartProductIds.has(productId);\n  }\n}\n_ProductGridComponent = ProductGridComponent;\n_ProductGridComponent.ɵfac = function ProductGridComponent_Factory(t) {\n  return new (t || _ProductGridComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.CartService));\n};\n_ProductGridComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _ProductGridComponent,\n  selectors: [[\"app-product-grid\"]],\n  standalone: true,\n  features: [i0.ɵɵStandaloneFeature],\n  decls: 13,\n  vars: 7,\n  consts: [[1, \"product-grid-container\"], [1, \"grid-toolbar\"], [\"type\", \"text\", \"placeholder\", \"Search products\", 1, \"search-input\", 3, \"ngModel\", \"ngModelChange\", \"keyup.enter\"], [3, \"click\"], [3, \"ngModel\", \"ngModelChange\", \"change\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [\"class\", \"error\", 4, \"ngIf\"], [\"class\", \"product-grid\", 4, \"ngIf\"], [\"class\", \"pagination\", 4, \"ngIf\"], [3, \"value\"], [1, \"error\"], [1, \"product-grid\"], [\"class\", \"product-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"product-card\"], [3, \"src\", \"alt\", \"title\"], [1, \"product-info\"], [\"class\", \"team\", 4, \"ngIf\"], [1, \"price\"], [1, \"team\"], [1, \"pagination\"], [3, \"disabled\", \"click\"]],\n  template: function ProductGridComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"input\", 2);\n      i0.ɵɵlistener(\"ngModelChange\", function ProductGridComponent_Template_input_ngModelChange_2_listener($event) {\n        return ctx.search = $event;\n      })(\"keyup.enter\", function ProductGridComponent_Template_input_keyup_enter_2_listener() {\n        return ctx.onSearch();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"button\", 3);\n      i0.ɵɵlistener(\"click\", function ProductGridComponent_Template_button_click_3_listener() {\n        return ctx.onSearch();\n      });\n      i0.ɵɵtext(4, \"Search\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"label\");\n      i0.ɵɵtext(6, \" Page size: \");\n      i0.ɵɵelementStart(7, \"select\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function ProductGridComponent_Template_select_ngModelChange_7_listener($event) {\n        return ctx.pageSize = $event;\n      })(\"change\", function ProductGridComponent_Template_select_change_7_listener() {\n        return ctx.onPageSizeChange();\n      });\n      i0.ɵɵtemplate(8, ProductGridComponent_option_8_Template, 2, 2, \"option\", 5);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(9, ProductGridComponent_div_9_Template, 2, 0, \"div\", 6);\n      i0.ɵɵtemplate(10, ProductGridComponent_div_10_Template, 2, 1, \"div\", 7);\n      i0.ɵɵtemplate(11, ProductGridComponent_div_11_Template, 2, 1, \"div\", 8);\n      i0.ɵɵtemplate(12, ProductGridComponent_div_12_Template, 7, 4, \"div\", 9);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.search);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.pageSize);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.pageSizeOptions);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.loading);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.error);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.loading && !ctx.error);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.loading && !ctx.error && ctx.totalPages > 1);\n    }\n  },\n  dependencies: [CommonModule, i3.NgForOf, i3.NgIf, FormsModule, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgModel],\n  styles: [\".product-grid-container[_ngcontent-%COMP%] {\\n  margin: 2rem auto;\\n  max-width: 1200px;\\n  padding: 1rem;\\n  background: var(--ipl-bg);\\n  border-radius: 12px;\\n}\\n.product-grid[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));\\n  gap: 1.5rem;\\n}\\n.product-card[_ngcontent-%COMP%] {\\n  background: #fff;\\n  border: 2px solid var(--ipl-accent);\\n  border-radius: 12px;\\n  box-shadow: 0 2px 8px rgba(0,0,0,0.08);\\n  padding: 1rem;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  transition: transform 0.2s, border-color 0.2s;\\n}\\n.product-card[_ngcontent-%COMP%]:hover {\\n  transform: translateY(-6px) scale(1.03);\\n  border-color: var(--ipl-primary);\\n  box-shadow: 0 6px 18px rgba(0,51,102,0.15);\\n}\\n.product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n  width: 180px;\\n  height: 220px;\\n  object-fit: cover;\\n  border-radius: 8px;\\n  margin-bottom: 0.5rem;\\n  border: 2px solid var(--ipl-primary);\\n}\\n.product-info[_ngcontent-%COMP%] {\\n  text-align: center;\\n  margin-bottom: 0.5rem;\\n}\\n.product-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  margin: 0.2rem 0;\\n  color: var(--ipl-secondary);\\n  font-size: 1.1rem;\\n}\\n.product-info[_ngcontent-%COMP%]   .team[_ngcontent-%COMP%] {\\n  color: var(--ipl-primary);\\n  font-weight: 600;\\n  font-size: 0.95rem;\\n}\\n.product-info[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%] {\\n  color: var(--ipl-secondary);\\n  font-weight: bold;\\n  font-size: 1.05rem;\\n}\\n.pagination[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  margin-top: 2rem;\\n  gap: 1.5rem;\\n}\\n.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  background: var(--ipl-accent);\\n  color: #fff;\\n  border: none;\\n  border-radius: 4px;\\n  padding: 0.4rem 1rem;\\n  font-size: 1rem;\\n  cursor: pointer;\\n  transition: background 0.2s;\\n}\\n.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled {\\n  background: #ccc;\\n  color: #888;\\n  cursor: not-allowed;\\n}\\n.grid-toolbar[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 1.2rem;\\n  margin-bottom: 1.5rem;\\n  background: #fff;\\n  padding: 1rem 1.5rem;\\n  border-radius: 8px;\\n  box-shadow: 0 1px 6px rgba(0,51,102,0.07);\\n}\\n.grid-toolbar[_ngcontent-%COMP%]   input[type=\\\"text\\\"][_ngcontent-%COMP%], .grid-toolbar[_ngcontent-%COMP%]   input[type=\\\"search\\\"][_ngcontent-%COMP%] {\\n  padding: 0.5rem 1rem;\\n  border: 1.5px solid var(--ipl-accent);\\n  border-radius: 6px;\\n  font-size: 1rem;\\n  outline: none;\\n  background: #fff;\\n  color: var(--ipl-secondary);\\n  transition: border-color 0.2s;\\n}\\n.grid-toolbar[_ngcontent-%COMP%]   input[type=\\\"text\\\"][_ngcontent-%COMP%]:focus, .grid-toolbar[_ngcontent-%COMP%]   input[type=\\\"search\\\"][_ngcontent-%COMP%]:focus {\\n  border-color: var(--ipl-primary);\\n}\\n.grid-toolbar[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n  font-weight: 500;\\n  color: var(--ipl-secondary);\\n  margin-left: 1rem;\\n}\\n.grid-toolbar[_ngcontent-%COMP%]   select[_ngcontent-%COMP%] {\\n  margin-left: 0.5rem;\\n  padding: 0.4rem 1rem;\\n  border: 1.5px solid var(--ipl-accent);\\n  border-radius: 6px;\\n  font-size: 1rem;\\n  background: #fff;\\n  color: var(--ipl-secondary);\\n  transition: border-color 0.2s;\\n}\\n.grid-toolbar[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus {\\n  border-color: var(--ipl-primary);\\n}\\n.search-input[_ngcontent-%COMP%] {\\n  width: 260px;\\n  min-width: 180px;\\n  max-width: 100%;\\n  padding: 0.5rem 1rem;\\n  border: 1.5px solid var(--ipl-accent);\\n  border-radius: 6px;\\n  font-size: 1rem;\\n  outline: none;\\n  background: #fff;\\n  color: var(--ipl-secondary);\\n  transition: border-color 0.2s;\\n  box-sizing: border-box;\\n}\\n.search-input[_ngcontent-%COMP%]:focus {\\n  border-color: var(--ipl-primary);\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcHJvZHVjdHMvcHJvZHVjdC1ncmlkLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxpQkFBaUI7RUFDakIsaUJBQWlCO0VBQ2pCLGFBQWE7RUFDYix5QkFBeUI7RUFDekIsbUJBQW1CO0FBQ3JCO0FBQ0E7RUFDRSxhQUFhO0VBQ2IsMkRBQTJEO0VBQzNELFdBQVc7QUFDYjtBQUNBO0VBQ0UsZ0JBQWdCO0VBQ2hCLG1DQUFtQztFQUNuQyxtQkFBbUI7RUFDbkIsc0NBQXNDO0VBQ3RDLGFBQWE7RUFDYixhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLG1CQUFtQjtFQUNuQiw2Q0FBNkM7QUFDL0M7QUFDQTtFQUNFLHVDQUF1QztFQUN2QyxnQ0FBZ0M7RUFDaEMsMENBQTBDO0FBQzVDO0FBQ0E7RUFDRSxZQUFZO0VBQ1osYUFBYTtFQUNiLGlCQUFpQjtFQUNqQixrQkFBa0I7RUFDbEIscUJBQXFCO0VBQ3JCLG9DQUFvQztBQUN0QztBQUNBO0VBQ0Usa0JBQWtCO0VBQ2xCLHFCQUFxQjtBQUN2QjtBQUNBO0VBQ0UsZ0JBQWdCO0VBQ2hCLDJCQUEyQjtFQUMzQixpQkFBaUI7QUFDbkI7QUFDQTtFQUNFLHlCQUF5QjtFQUN6QixnQkFBZ0I7RUFDaEIsa0JBQWtCO0FBQ3BCO0FBQ0E7RUFDRSwyQkFBMkI7RUFDM0IsaUJBQWlCO0VBQ2pCLGtCQUFrQjtBQUNwQjtBQUNBO0VBQ0UsYUFBYTtFQUNiLHVCQUF1QjtFQUN2QixtQkFBbUI7RUFDbkIsZ0JBQWdCO0VBQ2hCLFdBQVc7QUFDYjtBQUNBO0VBQ0UsNkJBQTZCO0VBQzdCLFdBQVc7RUFDWCxZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLG9CQUFvQjtFQUNwQixlQUFlO0VBQ2YsZUFBZTtFQUNmLDJCQUEyQjtBQUM3QjtBQUNBO0VBQ0UsZ0JBQWdCO0VBQ2hCLFdBQVc7RUFDWCxtQkFBbUI7QUFDckI7QUFDQTtFQUNFLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsV0FBVztFQUNYLHFCQUFxQjtFQUNyQixnQkFBZ0I7RUFDaEIsb0JBQW9CO0VBQ3BCLGtCQUFrQjtFQUNsQix5Q0FBeUM7QUFDM0M7QUFDQTs7RUFFRSxvQkFBb0I7RUFDcEIscUNBQXFDO0VBQ3JDLGtCQUFrQjtFQUNsQixlQUFlO0VBQ2YsYUFBYTtFQUNiLGdCQUFnQjtFQUNoQiwyQkFBMkI7RUFDM0IsNkJBQTZCO0FBQy9CO0FBQ0E7O0VBRUUsZ0NBQWdDO0FBQ2xDO0FBQ0E7RUFDRSxnQkFBZ0I7RUFDaEIsMkJBQTJCO0VBQzNCLGlCQUFpQjtBQUNuQjtBQUNBO0VBQ0UsbUJBQW1CO0VBQ25CLG9CQUFvQjtFQUNwQixxQ0FBcUM7RUFDckMsa0JBQWtCO0VBQ2xCLGVBQWU7RUFDZixnQkFBZ0I7RUFDaEIsMkJBQTJCO0VBQzNCLDZCQUE2QjtBQUMvQjtBQUNBO0VBQ0UsZ0NBQWdDO0FBQ2xDO0FBQ0E7RUFDRSxZQUFZO0VBQ1osZ0JBQWdCO0VBQ2hCLGVBQWU7RUFDZixvQkFBb0I7RUFDcEIscUNBQXFDO0VBQ3JDLGtCQUFrQjtFQUNsQixlQUFlO0VBQ2YsYUFBYTtFQUNiLGdCQUFnQjtFQUNoQiwyQkFBMkI7RUFDM0IsNkJBQTZCO0VBQzdCLHNCQUFzQjtBQUN4QjtBQUNBO0VBQ0UsZ0NBQWdDO0FBQ2xDIiwic291cmNlc0NvbnRlbnQiOlsiLnByb2R1Y3QtZ3JpZC1jb250YWluZXIge1xyXG4gIG1hcmdpbjogMnJlbSBhdXRvO1xyXG4gIG1heC13aWR0aDogMTIwMHB4O1xyXG4gIHBhZGRpbmc6IDFyZW07XHJcbiAgYmFja2dyb3VuZDogdmFyKC0taXBsLWJnKTtcclxuICBib3JkZXItcmFkaXVzOiAxMnB4O1xyXG59XHJcbi5wcm9kdWN0LWdyaWQge1xyXG4gIGRpc3BsYXk6IGdyaWQ7XHJcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maXQsIG1pbm1heCgyMjBweCwgMWZyKSk7XHJcbiAgZ2FwOiAxLjVyZW07XHJcbn1cclxuLnByb2R1Y3QtY2FyZCB7XHJcbiAgYmFja2dyb3VuZDogI2ZmZjtcclxuICBib3JkZXI6IDJweCBzb2xpZCB2YXIoLS1pcGwtYWNjZW50KTtcclxuICBib3JkZXItcmFkaXVzOiAxMnB4O1xyXG4gIGJveC1zaGFkb3c6IDAgMnB4IDhweCByZ2JhKDAsMCwwLDAuMDgpO1xyXG4gIHBhZGRpbmc6IDFyZW07XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMnMsIGJvcmRlci1jb2xvciAwLjJzO1xyXG59XHJcbi5wcm9kdWN0LWNhcmQ6aG92ZXIge1xyXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNnB4KSBzY2FsZSgxLjAzKTtcclxuICBib3JkZXItY29sb3I6IHZhcigtLWlwbC1wcmltYXJ5KTtcclxuICBib3gtc2hhZG93OiAwIDZweCAxOHB4IHJnYmEoMCw1MSwxMDIsMC4xNSk7XHJcbn1cclxuLnByb2R1Y3QtY2FyZCBpbWcge1xyXG4gIHdpZHRoOiAxODBweDtcclxuICBoZWlnaHQ6IDIyMHB4O1xyXG4gIG9iamVjdC1maXQ6IGNvdmVyO1xyXG4gIGJvcmRlci1yYWRpdXM6IDhweDtcclxuICBtYXJnaW4tYm90dG9tOiAwLjVyZW07XHJcbiAgYm9yZGVyOiAycHggc29saWQgdmFyKC0taXBsLXByaW1hcnkpO1xyXG59XHJcbi5wcm9kdWN0LWluZm8ge1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBtYXJnaW4tYm90dG9tOiAwLjVyZW07XHJcbn1cclxuLnByb2R1Y3QtaW5mbyBoMyB7XHJcbiAgbWFyZ2luOiAwLjJyZW0gMDtcclxuICBjb2xvcjogdmFyKC0taXBsLXNlY29uZGFyeSk7XHJcbiAgZm9udC1zaXplOiAxLjFyZW07XHJcbn1cclxuLnByb2R1Y3QtaW5mbyAudGVhbSB7XHJcbiAgY29sb3I6IHZhcigtLWlwbC1wcmltYXJ5KTtcclxuICBmb250LXdlaWdodDogNjAwO1xyXG4gIGZvbnQtc2l6ZTogMC45NXJlbTtcclxufVxyXG4ucHJvZHVjdC1pbmZvIC5wcmljZSB7XHJcbiAgY29sb3I6IHZhcigtLWlwbC1zZWNvbmRhcnkpO1xyXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gIGZvbnQtc2l6ZTogMS4wNXJlbTtcclxufVxyXG4ucGFnaW5hdGlvbiB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIG1hcmdpbi10b3A6IDJyZW07XHJcbiAgZ2FwOiAxLjVyZW07XHJcbn1cclxuLnBhZ2luYXRpb24gYnV0dG9uIHtcclxuICBiYWNrZ3JvdW5kOiB2YXIoLS1pcGwtYWNjZW50KTtcclxuICBjb2xvcjogI2ZmZjtcclxuICBib3JkZXI6IG5vbmU7XHJcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gIHBhZGRpbmc6IDAuNHJlbSAxcmVtO1xyXG4gIGZvbnQtc2l6ZTogMXJlbTtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgdHJhbnNpdGlvbjogYmFja2dyb3VuZCAwLjJzO1xyXG59XHJcbi5wYWdpbmF0aW9uIGJ1dHRvbjpkaXNhYmxlZCB7XHJcbiAgYmFja2dyb3VuZDogI2NjYztcclxuICBjb2xvcjogIzg4ODtcclxuICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xyXG59XHJcbi5ncmlkLXRvb2xiYXIge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBnYXA6IDEuMnJlbTtcclxuICBtYXJnaW4tYm90dG9tOiAxLjVyZW07XHJcbiAgYmFja2dyb3VuZDogI2ZmZjtcclxuICBwYWRkaW5nOiAxcmVtIDEuNXJlbTtcclxuICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgYm94LXNoYWRvdzogMCAxcHggNnB4IHJnYmEoMCw1MSwxMDIsMC4wNyk7XHJcbn1cclxuLmdyaWQtdG9vbGJhciBpbnB1dFt0eXBlPVwidGV4dFwiXSxcclxuLmdyaWQtdG9vbGJhciBpbnB1dFt0eXBlPVwic2VhcmNoXCJdIHtcclxuICBwYWRkaW5nOiAwLjVyZW0gMXJlbTtcclxuICBib3JkZXI6IDEuNXB4IHNvbGlkIHZhcigtLWlwbC1hY2NlbnQpO1xyXG4gIGJvcmRlci1yYWRpdXM6IDZweDtcclxuICBmb250LXNpemU6IDFyZW07XHJcbiAgb3V0bGluZTogbm9uZTtcclxuICBiYWNrZ3JvdW5kOiAjZmZmO1xyXG4gIGNvbG9yOiB2YXIoLS1pcGwtc2Vjb25kYXJ5KTtcclxuICB0cmFuc2l0aW9uOiBib3JkZXItY29sb3IgMC4ycztcclxufVxyXG4uZ3JpZC10b29sYmFyIGlucHV0W3R5cGU9XCJ0ZXh0XCJdOmZvY3VzLFxyXG4uZ3JpZC10b29sYmFyIGlucHV0W3R5cGU9XCJzZWFyY2hcIl06Zm9jdXMge1xyXG4gIGJvcmRlci1jb2xvcjogdmFyKC0taXBsLXByaW1hcnkpO1xyXG59XHJcbi5ncmlkLXRvb2xiYXIgbGFiZWwge1xyXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgY29sb3I6IHZhcigtLWlwbC1zZWNvbmRhcnkpO1xyXG4gIG1hcmdpbi1sZWZ0OiAxcmVtO1xyXG59XHJcbi5ncmlkLXRvb2xiYXIgc2VsZWN0IHtcclxuICBtYXJnaW4tbGVmdDogMC41cmVtO1xyXG4gIHBhZGRpbmc6IDAuNHJlbSAxcmVtO1xyXG4gIGJvcmRlcjogMS41cHggc29saWQgdmFyKC0taXBsLWFjY2VudCk7XHJcbiAgYm9yZGVyLXJhZGl1czogNnB4O1xyXG4gIGZvbnQtc2l6ZTogMXJlbTtcclxuICBiYWNrZ3JvdW5kOiAjZmZmO1xyXG4gIGNvbG9yOiB2YXIoLS1pcGwtc2Vjb25kYXJ5KTtcclxuICB0cmFuc2l0aW9uOiBib3JkZXItY29sb3IgMC4ycztcclxufVxyXG4uZ3JpZC10b29sYmFyIHNlbGVjdDpmb2N1cyB7XHJcbiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1pcGwtcHJpbWFyeSk7XHJcbn1cclxuLnNlYXJjaC1pbnB1dCB7XHJcbiAgd2lkdGg6IDI2MHB4O1xyXG4gIG1pbi13aWR0aDogMTgwcHg7XHJcbiAgbWF4LXdpZHRoOiAxMDAlO1xyXG4gIHBhZGRpbmc6IDAuNXJlbSAxcmVtO1xyXG4gIGJvcmRlcjogMS41cHggc29saWQgdmFyKC0taXBsLWFjY2VudCk7XHJcbiAgYm9yZGVyLXJhZGl1czogNnB4O1xyXG4gIGZvbnQtc2l6ZTogMXJlbTtcclxuICBvdXRsaW5lOiBub25lO1xyXG4gIGJhY2tncm91bmQ6ICNmZmY7XHJcbiAgY29sb3I6IHZhcigtLWlwbC1zZWNvbmRhcnkpO1xyXG4gIHRyYW5zaXRpb246IGJvcmRlci1jb2xvciAwLjJzO1xyXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbn1cclxuLnNlYXJjaC1pbnB1dDpmb2N1cyB7XHJcbiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1pcGwtcHJpbWFyeSk7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"names":["CommonModule","FormsModule","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","s_r5","ɵɵadvance","ɵɵtextInterpolate","ctx_r2","error","product_r7","franchiseName","ɵɵelement","ɵɵtemplate","ProductGridComponent_div_11_div_1_p_5_Template","ɵɵlistener","ProductGridComponent_div_11_div_1_Template_button_click_8_listener","restoredCtx","ɵɵrestoreView","_r11","$implicit","ctx_r10","ɵɵnextContext","ɵɵresetView","addToCart","imageUrl","ɵɵsanitizeUrl","name","ɵɵtextInterpolate1","price","ProductGridComponent_div_11_div_1_Template","ctx_r3","products","ProductGridComponent_div_12_Template_button_click_1_listener","_r13","ctx_r12","onPageChange","page","ProductGridComponent_div_12_Template_button_click_5_listener","ctx_r14","ctx_r4","ɵɵtextInterpolate2","totalPages","ProductGridComponent","constructor","productService","cart","pageSize","totalProducts","loading","search","pageSizeOptions","cartProductIds","Set","ngOnInit","loadProducts","cartSub","state$","subscribe","state","items","map","i","productId","ngOnDestroy","unsubscribe","Math","max","ceil","getProducts","next","res","p","totalCount","length","err","console","onSearch","trim","searchProducts","onPageSizeChange","add","id","isInCart","has","ɵɵdirectiveInject","i1","ProductService","i2","CartService","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","ProductGridComponent_Template","rf","ctx","ProductGridComponent_Template_input_ngModelChange_2_listener","$event","ProductGridComponent_Template_input_keyup_enter_2_listener","ProductGridComponent_Template_button_click_3_listener","ProductGridComponent_Template_select_ngModelChange_7_listener","ProductGridComponent_Template_select_change_7_listener","ProductGridComponent_option_8_Template","ProductGridComponent_div_9_Template","ProductGridComponent_div_10_Template","ProductGridComponent_div_11_Template","ProductGridComponent_div_12_Template","i3","NgForOf","NgIf","i4","NgSelectOption","ɵNgSelectMultipleOption","DefaultValueAccessor","SelectControlValueAccessor","NgControlStatus","NgModel","styles"],"sources":["C:\\Users\\vishnu.reddy\\works\\iplfranchis\\IPLFranchises\\FranchisClient\\src\\app\\products\\product-grid.component.ts","C:\\Users\\vishnu.reddy\\works\\iplfranchis\\IPLFranchises\\FranchisClient\\src\\app\\products\\product-grid.component.html"],"sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { ProductService } from '../core/services/product.service';\r\nimport { CartService } from '../core/services/cart.service';\r\nimport { Product } from '../core/models/product.model';\r\n\r\n@Component({\r\n  selector: 'app-product-grid',\r\n  standalone: true,\r\n  imports: [CommonModule, FormsModule],\r\n  templateUrl: './product-grid.component.html',\r\n  styleUrls: ['./product-grid.component.css']\r\n})\r\nexport class ProductGridComponent implements OnInit, OnDestroy {\r\n  products: Product[] = [];\r\n  page = 1;\r\n  pageSize = 12;\r\n  totalProducts = 0;\r\n  loading = false;\r\n  error: string | null = null;\r\n\r\n  // filters/controls\r\n  search = '';\r\n  pageSizeOptions = [8, 12, 24, 48];\r\n\r\n  cartProductIds = new Set<number>();\r\n  private cartSub?: any;\r\n\r\n  constructor(private productService: ProductService, private cart: CartService) {}\r\n\r\n  ngOnInit() {\r\n    this.loadProducts();\r\n    this.cartSub = this.cart.state$.subscribe(state => {\r\n      this.cartProductIds = new Set(state.items.map(i => i.productId));\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.cartSub) this.cartSub.unsubscribe();\r\n  }\r\n\r\n  get totalPages(): number {\r\n    return Math.max(1, Math.ceil(this.totalProducts / this.pageSize));\r\n  }\r\n\r\n  loadProducts() {\r\n    this.loading = true;\r\n    this.error = null;\r\n    this.productService.getProducts(this.page, this.pageSize).subscribe({\r\n      next: (res) => {\r\n        this.products = (res.items ?? []).map(p => ({ ...p, imageUrl: p.imageUrl ?? 'assets/ipl1.png' }));\r\n        this.totalProducts = res.totalCount ?? this.products.length;\r\n        this.loading = false;\r\n      },\r\n      error: (err) => {\r\n        this.error = 'Failed to load products';\r\n        this.loading = false;\r\n        console.error(err);\r\n      }\r\n    });\r\n  }\r\n\r\n  onSearch() {\r\n    if (!this.search.trim()) {\r\n      this.page = 1;\r\n      this.loadProducts();\r\n      return;\r\n    }\r\n    this.loading = true;\r\n    this.error = null;\r\n    this.productService.searchProducts(this.search).subscribe({\r\n      next: (items) => {\r\n        this.products = (items ?? []).map(p => ({ ...p, imageUrl: p.imageUrl ?? 'assets/ipl1.png' }));\r\n        this.totalProducts = this.products.length;\r\n        this.page = 1;\r\n        this.loading = false;\r\n      },\r\n      error: (err) => {\r\n        this.error = 'Search failed';\r\n        this.loading = false;\r\n        console.error(err);\r\n      }\r\n    });\r\n  }\r\n\r\n  onPageChange(page: number) {\r\n    if (page < 1 || page > this.totalPages) return;\r\n    this.page = page;\r\n    this.loadProducts();\r\n  }\r\n\r\n  onPageSizeChange() {\r\n    this.page = 1;\r\n    this.loadProducts();\r\n  }\r\n\r\n  addToCart(p: Product) {\r\n    this.cart.add({\r\n      productId: p.id,\r\n      name: p.name ?? 'Product',\r\n      price: p.price,\r\n      imageUrl: p.imageUrl ?? 'assets/ipl1.png'\r\n    }, 1);\r\n  }\r\n\r\n  isInCart(productId: number): boolean {\r\n    return this.cartProductIds.has(productId);\r\n  }\r\n}\r\n","<div class=\"product-grid-container\">\r\n  <div class=\"grid-toolbar\">\r\n    <input type=\"text\" class=\"search-input\" [(ngModel)]=\"search\" (keyup.enter)=\"onSearch()\" placeholder=\"Search products\" />\r\n    <button (click)=\"onSearch()\">Search</button>\r\n    <label>\r\n      Page size:\r\n      <select [(ngModel)]=\"pageSize\" (change)=\"onPageSizeChange()\">\r\n        <option *ngFor=\"let s of pageSizeOptions\" [value]=\"s\">{{ s }}</option>\r\n      </select>\r\n    </label>\r\n  </div>\r\n\r\n  <div *ngIf=\"loading\">Loading products…</div>\r\n  <div *ngIf=\"error\" class=\"error\">{{ error }}</div>\r\n\r\n  <div class=\"product-grid\" *ngIf=\"!loading && !error\">\r\n    <div class=\"product-card\" *ngFor=\"let product of products\">\r\n      <img [src]=\"product.imageUrl || 'assets/ipl1.png'\" [alt]=\"product.name || 'Product'\" [title]=\"product.name || 'Product'\" />\r\n      <div class=\"product-info\">\r\n        <h3>{{ product.name }}</h3>\r\n        <p class=\"team\" *ngIf=\"product.franchiseName\">{{ product.franchiseName }}</p>\r\n        <p class=\"price\">₹{{ product.price }}</p>\r\n      </div>\r\n  <button (click)=\"addToCart(product)\">Add to Cart</button>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"pagination\" *ngIf=\"!loading && !error && totalPages > 1\">\r\n    <button (click)=\"onPageChange(page-1)\" [disabled]=\"page === 1\">Prev</button>\r\n    <span>Page {{page}} of {{totalPages}}</span>\r\n    <button (click)=\"onPageChange(page+1)\" [disabled]=\"page === totalPages\">Next</button>\r\n  </div>\r\n</div>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}