{"ast":null,"code":"var _MainLayoutComponent;\nimport { RouterModule } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport { map } from 'rxjs';\nimport { FooterComponent } from './footer.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../core/services/cart.service\";\nimport * as i2 from \"../core/services/auth.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nfunction MainLayoutComponent_span_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const count_r4 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(count_r4);\n  }\n}\nfunction MainLayoutComponent_ng_container_14_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 17)(1, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function MainLayoutComponent_ng_container_14_div_6_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r6.goToProfile());\n    });\n    i0.ɵɵtext(2, \"Profile\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function MainLayoutComponent_ng_container_14_div_6_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.goToOrders());\n    });\n    i0.ɵɵtext(4, \"Order History\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function MainLayoutComponent_ng_container_14_div_6_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r9.logout());\n    });\n    i0.ɵɵtext(6, \"Logout\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction MainLayoutComponent_ng_container_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 13);\n    i0.ɵɵlistener(\"mouseleave\", function MainLayoutComponent_ng_container_14_Template_div_mouseleave_1_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.showMenu = false);\n    });\n    i0.ɵɵelementStart(2, \"span\", 14);\n    i0.ɵɵlistener(\"click\", function MainLayoutComponent_ng_container_14_Template_span_click_2_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.showMenu = !ctx_r12.showMenu);\n    });\n    i0.ɵɵtext(3, \"\\uD83D\\uDC64\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 15);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, MainLayoutComponent_ng_container_14_div_6_Template, 7, 0, \"div\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r1.user.username);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.showMenu);\n  }\n}\nfunction MainLayoutComponent_ng_template_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 19);\n    i0.ɵɵtext(1, \"Login\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class MainLayoutComponent {\n  constructor(cart, auth, router) {\n    this.cart = cart;\n    this.auth = auth;\n    this.router = router;\n    this.cartCount$ = this.cart.state$.pipe(map(s => s.items.reduce((sum, i) => sum + i.quantity, 0)));\n    this.user = null;\n    this.showMenu = false;\n    this.auth.user$.subscribe(u => this.user = u);\n  }\n  logout() {\n    this.auth.logout();\n    this.router.navigate(['/login']);\n  }\n  goToProfile() {\n    this.router.navigate(['/profile']);\n  }\n  goToOrders() {\n    this.router.navigate(['/orders']);\n  }\n}\n_MainLayoutComponent = MainLayoutComponent;\n_MainLayoutComponent.ɵfac = function MainLayoutComponent_Factory(t) {\n  return new (t || _MainLayoutComponent)(i0.ɵɵdirectiveInject(i1.CartService), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router));\n};\n_MainLayoutComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _MainLayoutComponent,\n  selectors: [[\"app-main-layout\"]],\n  standalone: true,\n  features: [i0.ɵɵStandaloneFeature],\n  decls: 20,\n  vars: 5,\n  consts: [[1, \"navbar\"], [1, \"navbar-left\"], [\"src\", \"assets/ipl-logo.png\", \"alt\", \"IPL Logo\", 1, \"logo\"], [\"routerLink\", \"/\", 1, \"nav-link\"], [\"routerLink\", \"/products\", 1, \"nav-link\"], [\"routerLink\", \"/teams\", 1, \"nav-link\"], [1, \"navbar-right\"], [\"routerLink\", \"/cart\", 1, \"nav-link\", \"cart-link\"], [\"class\", \"cart-badge\", 4, \"ngIf\"], [4, \"ngIf\", \"ngIfElse\"], [\"login\", \"\"], [1, \"main-content\"], [1, \"cart-badge\"], [1, \"profile-menu-wrapper\", 3, \"mouseleave\"], [1, \"user-icon\", 3, \"click\"], [1, \"user-name\"], [\"class\", \"profile-menu\", 4, \"ngIf\"], [1, \"profile-menu\"], [3, \"click\"], [\"routerLink\", \"/login\", 1, \"nav-link\", \"login-link\"]],\n  template: function MainLayoutComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"nav\", 0)(1, \"div\", 1);\n      i0.ɵɵelement(2, \"img\", 2);\n      i0.ɵɵelementStart(3, \"a\", 3);\n      i0.ɵɵtext(4, \"Home\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"a\", 4);\n      i0.ɵɵtext(6, \"Products\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"a\", 5);\n      i0.ɵɵtext(8, \"Team Info\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"div\", 6)(10, \"a\", 7);\n      i0.ɵɵtext(11, \" \\uD83D\\uDED2 \");\n      i0.ɵɵtemplate(12, MainLayoutComponent_span_12_Template, 2, 1, \"span\", 8);\n      i0.ɵɵpipe(13, \"async\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(14, MainLayoutComponent_ng_container_14_Template, 7, 2, \"ng-container\", 9);\n      i0.ɵɵtemplate(15, MainLayoutComponent_ng_template_15_Template, 2, 0, \"ng-template\", null, 10, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(17, \"main\", 11);\n      i0.ɵɵelement(18, \"router-outlet\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(19, \"app-footer\");\n    }\n    if (rf & 2) {\n      const _r2 = i0.ɵɵreference(16);\n      i0.ɵɵadvance(12);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(13, 3, ctx.cartCount$));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.user)(\"ngIfElse\", _r2);\n    }\n  },\n  dependencies: [RouterModule, i3.RouterOutlet, i3.RouterLink, CommonModule, i4.NgIf, i4.AsyncPipe, FooterComponent],\n  styles: [\".profile-menu-wrapper[_ngcontent-%COMP%] {\\n  position: relative;\\n  display: inline-block;\\n  margin-left: 1rem;\\n}\\n.profile-menu[_ngcontent-%COMP%] {\\n  position: absolute;\\n  top: 2.2rem;\\n  right: 0;\\n  background: #fff;\\n  border: 1px solid #eee;\\n  border-radius: 8px;\\n  box-shadow: 0 2px 8px rgba(0,0,0,0.12);\\n  min-width: 150px;\\n  z-index: 100;\\n  display: flex;\\n  flex-direction: column;\\n}\\n.profile-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  background: none;\\n  border: none;\\n  color: var(--ipl-secondary);\\n  padding: 0.8rem 1.2rem;\\n  text-align: left;\\n  font-size: 1rem;\\n  cursor: pointer;\\n  transition: background 0.2s;\\n}\\n.profile-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover {\\n  background: var(--ipl-bg);\\n}\\n.navbar[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  background: var(--ipl-secondary);\\n  padding: 0.5rem 2rem;\\n  box-shadow: 0 2px 8px rgba(0,0,0,0.07);\\n}\\n.logo[_ngcontent-%COMP%] {\\n  height: 40px;\\n  margin-right: 1.5rem;\\n}\\n.navbar-left[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n}\\n.nav-link[_ngcontent-%COMP%] {\\n  margin-right: 1.2rem;\\n  color: #fff;\\n  text-decoration: none;\\n  font-weight: 500;\\n  font-size: 1.1rem;\\n  transition: color 0.2s;\\n}\\n.nav-link[_ngcontent-%COMP%]:hover, .login-link[_ngcontent-%COMP%]:hover {\\n  color: var(--ipl-accent);\\n}\\n.navbar-right[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n}\\n.user-icon[_ngcontent-%COMP%] {\\n  font-size: 1.5rem;\\n  margin-right: 0.5rem;\\n}\\n.user-name[_ngcontent-%COMP%] {\\n  font-weight: 500;\\n}\\n.main-content[_ngcontent-%COMP%] {\\n  padding: 2rem 1rem 1rem 1rem;\\n  background: var(--ipl-bg);\\n  min-height: 80vh;\\n}\\n\\n.cart-link[_ngcontent-%COMP%] {\\n  position: relative;\\n  font-size: 1.5rem;\\n  margin-right: 1.2rem;\\n  text-decoration: none;\\n  color: #fff;\\n}\\n.cart-badge[_ngcontent-%COMP%] {\\n  position: absolute;\\n  top: -8px;\\n  right: -10px;\\n  background: var(--ipl-primary);\\n  color: #fff;\\n  border-radius: 50%;\\n  padding: 2px 7px;\\n  font-size: 0.9rem;\\n  font-weight: bold;\\n  min-width: 22px;\\n  text-align: center;\\n  box-shadow: 0 1px 4px rgba(0,0,0,0.12);\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbGF5b3V0L21haW4tbGF5b3V0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBa0I7RUFDbEIscUJBQXFCO0VBQ3JCLGlCQUFpQjtBQUNuQjtBQUNBO0VBQ0Usa0JBQWtCO0VBQ2xCLFdBQVc7RUFDWCxRQUFRO0VBQ1IsZ0JBQWdCO0VBQ2hCLHNCQUFzQjtFQUN0QixrQkFBa0I7RUFDbEIsc0NBQXNDO0VBQ3RDLGdCQUFnQjtFQUNoQixZQUFZO0VBQ1osYUFBYTtFQUNiLHNCQUFzQjtBQUN4QjtBQUNBO0VBQ0UsZ0JBQWdCO0VBQ2hCLFlBQVk7RUFDWiwyQkFBMkI7RUFDM0Isc0JBQXNCO0VBQ3RCLGdCQUFnQjtFQUNoQixlQUFlO0VBQ2YsZUFBZTtFQUNmLDJCQUEyQjtBQUM3QjtBQUNBO0VBQ0UseUJBQXlCO0FBQzNCO0FBQ0E7RUFDRSxhQUFhO0VBQ2IsOEJBQThCO0VBQzlCLG1CQUFtQjtFQUNuQixnQ0FBZ0M7RUFDaEMsb0JBQW9CO0VBQ3BCLHNDQUFzQztBQUN4QztBQUNBO0VBQ0UsWUFBWTtFQUNaLG9CQUFvQjtBQUN0QjtBQUNBO0VBQ0UsYUFBYTtFQUNiLG1CQUFtQjtBQUNyQjtBQUNBO0VBQ0Usb0JBQW9CO0VBQ3BCLFdBQVc7RUFDWCxxQkFBcUI7RUFDckIsZ0JBQWdCO0VBQ2hCLGlCQUFpQjtFQUNqQixzQkFBc0I7QUFDeEI7QUFDQTtFQUNFLHdCQUF3QjtBQUMxQjtBQUNBO0VBQ0UsYUFBYTtFQUNiLG1CQUFtQjtBQUNyQjtBQUNBO0VBQ0UsaUJBQWlCO0VBQ2pCLG9CQUFvQjtBQUN0QjtBQUNBO0VBQ0UsZ0JBQWdCO0FBQ2xCO0FBQ0E7RUFDRSw0QkFBNEI7RUFDNUIseUJBQXlCO0VBQ3pCLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixpQkFBaUI7RUFDakIsb0JBQW9CO0VBQ3BCLHFCQUFxQjtFQUNyQixXQUFXO0FBQ2I7QUFDQTtFQUNFLGtCQUFrQjtFQUNsQixTQUFTO0VBQ1QsWUFBWTtFQUNaLDhCQUE4QjtFQUM5QixXQUFXO0VBQ1gsa0JBQWtCO0VBQ2xCLGdCQUFnQjtFQUNoQixpQkFBaUI7RUFDakIsaUJBQWlCO0VBQ2pCLGVBQWU7RUFDZixrQkFBa0I7RUFDbEIsc0NBQXNDO0FBQ3hDIiwic291cmNlc0NvbnRlbnQiOlsiLnByb2ZpbGUtbWVudS13cmFwcGVyIHtcclxuICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gIG1hcmdpbi1sZWZ0OiAxcmVtO1xyXG59XHJcbi5wcm9maWxlLW1lbnUge1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICB0b3A6IDIuMnJlbTtcclxuICByaWdodDogMDtcclxuICBiYWNrZ3JvdW5kOiAjZmZmO1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkICNlZWU7XHJcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xyXG4gIGJveC1zaGFkb3c6IDAgMnB4IDhweCByZ2JhKDAsMCwwLDAuMTIpO1xyXG4gIG1pbi13aWR0aDogMTUwcHg7XHJcbiAgei1pbmRleDogMTAwO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxufVxyXG4ucHJvZmlsZS1tZW51IGJ1dHRvbiB7XHJcbiAgYmFja2dyb3VuZDogbm9uZTtcclxuICBib3JkZXI6IG5vbmU7XHJcbiAgY29sb3I6IHZhcigtLWlwbC1zZWNvbmRhcnkpO1xyXG4gIHBhZGRpbmc6IDAuOHJlbSAxLjJyZW07XHJcbiAgdGV4dC1hbGlnbjogbGVmdDtcclxuICBmb250LXNpemU6IDFyZW07XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIHRyYW5zaXRpb246IGJhY2tncm91bmQgMC4ycztcclxufVxyXG4ucHJvZmlsZS1tZW51IGJ1dHRvbjpob3ZlciB7XHJcbiAgYmFja2dyb3VuZDogdmFyKC0taXBsLWJnKTtcclxufVxyXG4ubmF2YmFyIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGJhY2tncm91bmQ6IHZhcigtLWlwbC1zZWNvbmRhcnkpO1xyXG4gIHBhZGRpbmc6IDAuNXJlbSAycmVtO1xyXG4gIGJveC1zaGFkb3c6IDAgMnB4IDhweCByZ2JhKDAsMCwwLDAuMDcpO1xyXG59XHJcbi5sb2dvIHtcclxuICBoZWlnaHQ6IDQwcHg7XHJcbiAgbWFyZ2luLXJpZ2h0OiAxLjVyZW07XHJcbn1cclxuLm5hdmJhci1sZWZ0IHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbn1cclxuLm5hdi1saW5rIHtcclxuICBtYXJnaW4tcmlnaHQ6IDEuMnJlbTtcclxuICBjb2xvcjogI2ZmZjtcclxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbiAgZm9udC13ZWlnaHQ6IDUwMDtcclxuICBmb250LXNpemU6IDEuMXJlbTtcclxuICB0cmFuc2l0aW9uOiBjb2xvciAwLjJzO1xyXG59XHJcbi5uYXYtbGluazpob3ZlciwgLmxvZ2luLWxpbms6aG92ZXIge1xyXG4gIGNvbG9yOiB2YXIoLS1pcGwtYWNjZW50KTtcclxufVxyXG4ubmF2YmFyLXJpZ2h0IHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbn1cclxuLnVzZXItaWNvbiB7XHJcbiAgZm9udC1zaXplOiAxLjVyZW07XHJcbiAgbWFyZ2luLXJpZ2h0OiAwLjVyZW07XHJcbn1cclxuLnVzZXItbmFtZSB7XHJcbiAgZm9udC13ZWlnaHQ6IDUwMDtcclxufVxyXG4ubWFpbi1jb250ZW50IHtcclxuICBwYWRkaW5nOiAycmVtIDFyZW0gMXJlbSAxcmVtO1xyXG4gIGJhY2tncm91bmQ6IHZhcigtLWlwbC1iZyk7XHJcbiAgbWluLWhlaWdodDogODB2aDtcclxufVxyXG5cclxuLmNhcnQtbGluayB7XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gIGZvbnQtc2l6ZTogMS41cmVtO1xyXG4gIG1hcmdpbi1yaWdodDogMS4ycmVtO1xyXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxuICBjb2xvcjogI2ZmZjtcclxufVxyXG4uY2FydC1iYWRnZSB7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIHRvcDogLThweDtcclxuICByaWdodDogLTEwcHg7XHJcbiAgYmFja2dyb3VuZDogdmFyKC0taXBsLXByaW1hcnkpO1xyXG4gIGNvbG9yOiAjZmZmO1xyXG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICBwYWRkaW5nOiAycHggN3B4O1xyXG4gIGZvbnQtc2l6ZTogMC45cmVtO1xyXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gIG1pbi13aWR0aDogMjJweDtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgYm94LXNoYWRvdzogMCAxcHggNHB4IHJnYmEoMCwwLDAsMC4xMik7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["RouterModule","CommonModule","map","FooterComponent","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","count_r4","ɵɵlistener","MainLayoutComponent_ng_container_14_div_6_Template_button_click_1_listener","ɵɵrestoreView","_r7","ctx_r6","ɵɵnextContext","ɵɵresetView","goToProfile","MainLayoutComponent_ng_container_14_div_6_Template_button_click_3_listener","ctx_r8","goToOrders","MainLayoutComponent_ng_container_14_div_6_Template_button_click_5_listener","ctx_r9","logout","ɵɵelementContainerStart","MainLayoutComponent_ng_container_14_Template_div_mouseleave_1_listener","_r11","ctx_r10","showMenu","MainLayoutComponent_ng_container_14_Template_span_click_2_listener","ctx_r12","ɵɵtemplate","MainLayoutComponent_ng_container_14_div_6_Template","ɵɵelementContainerEnd","ctx_r1","user","username","ɵɵproperty","MainLayoutComponent","constructor","cart","auth","router","cartCount$","state$","pipe","s","items","reduce","sum","i","quantity","user$","subscribe","u","navigate","ɵɵdirectiveInject","i1","CartService","i2","AuthService","i3","Router","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","MainLayoutComponent_Template","rf","ctx","ɵɵelement","MainLayoutComponent_span_12_Template","MainLayoutComponent_ng_container_14_Template","MainLayoutComponent_ng_template_15_Template","ɵɵtemplateRefExtractor","ɵɵpipeBind1","_r2","RouterOutlet","RouterLink","i4","NgIf","AsyncPipe","styles"],"sources":["C:\\Users\\vishnu.reddy\\works\\iplfranchis\\IPLFranchises\\FranchisClient\\src\\app\\layout\\main-layout.component.ts","C:\\Users\\vishnu.reddy\\works\\iplfranchis\\IPLFranchises\\FranchisClient\\src\\app\\layout\\main-layout.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { RouterModule, Router } from '@angular/router';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CartService } from '../core/services/cart.service';\r\nimport { AuthService, AuthResponse } from '../core/services/auth.service';\r\nimport { map } from 'rxjs';\r\nimport { FooterComponent } from './footer.component';\r\n\r\n@Component({\r\n  selector: 'app-main-layout',\r\n  standalone: true,\r\n  imports: [RouterModule, CommonModule, FooterComponent],\r\n  templateUrl: './main-layout.component.html',\r\n  styleUrls: ['./main-layout.component.css']\r\n})\r\nexport class MainLayoutComponent {\r\n  cartCount$ = this.cart.state$.pipe(map(s => s.items.reduce((sum, i) => sum + i.quantity, 0)));\r\n  user: AuthResponse | null = null;\r\n  showMenu = false;\r\n\r\n  constructor(public cart: CartService, public auth: AuthService, private router: Router) {\r\n    this.auth.user$.subscribe(u => this.user = u);\r\n  }\r\n\r\n  logout() {\r\n    this.auth.logout();\r\n    this.router.navigate(['/login']);\r\n  }\r\n\r\n  goToProfile() {\r\n    this.router.navigate(['/profile']);\r\n  }\r\n\r\n  goToOrders() {\r\n    this.router.navigate(['/orders']);\r\n  }\r\n}\r\n","<nav class=\"navbar\">\r\n  <div class=\"navbar-left\">\r\n    <img src=\"assets/ipl-logo.png\" alt=\"IPL Logo\" class=\"logo\" />\r\n    <a routerLink=\"/\" class=\"nav-link\">Home</a>\r\n    <a routerLink=\"/products\" class=\"nav-link\">Products</a>\r\n    <a routerLink=\"/teams\" class=\"nav-link\">Team Info</a>\r\n  </div>\r\n  <div class=\"navbar-right\">\r\n    <a routerLink=\"/cart\" class=\"nav-link cart-link\">\r\n      🛒\r\n      <span class=\"cart-badge\" *ngIf=\"(cartCount$ | async) as count\">{{ count }}</span>\r\n    </a>\r\n    <ng-container *ngIf=\"user; else login\">\r\n      <div class=\"profile-menu-wrapper\" (mouseleave)=\"showMenu=false\">\r\n        <span class=\"user-icon\" (click)=\"showMenu=!showMenu\">👤</span>\r\n        <span class=\"user-name\">{{ user.username }}</span>\r\n        <div class=\"profile-menu\" *ngIf=\"showMenu\">\r\n          <button (click)=\"goToProfile()\">Profile</button>\r\n          <button (click)=\"goToOrders()\">Order History</button>\r\n          <button (click)=\"logout()\">Logout</button>\r\n        </div>\r\n      </div>\r\n    </ng-container>\r\n    <ng-template #login>\r\n      <a routerLink=\"/login\" class=\"nav-link login-link\">Login</a>\r\n    </ng-template>\r\n  </div>\r\n</nav>\r\n<main class=\"main-content\">\r\n  <router-outlet></router-outlet>\r\n</main>\r\n<app-footer></app-footer>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}