{"ast":null,"code":"var _ProductGridComponent;\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../core/services/product.service\";\nimport * as i2 from \"../core/services/cart.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction ProductGridComponent_option_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 10);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const s_r5 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", s_r5);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(s_r5);\n  }\n}\nfunction ProductGridComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Loading products\\u2026\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductGridComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r2.error);\n  }\n}\nfunction ProductGridComponent_div_11_div_1_p_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const product_r7 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(product_r7.franchiseName);\n  }\n}\nfunction ProductGridComponent_div_11_div_1_ng_container_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \" \\u2713 Added to Cart \");\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction ProductGridComponent_div_11_div_1_ng_template_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"Add to Cart\");\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"added\": a0\n  };\n};\nfunction ProductGridComponent_div_11_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵelement(1, \"img\", 15);\n    i0.ɵɵelementStart(2, \"div\", 16)(3, \"h3\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, ProductGridComponent_div_11_div_1_p_5_Template, 2, 1, \"p\", 17);\n    i0.ɵɵelementStart(6, \"p\", 18);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function ProductGridComponent_div_11_div_1_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const product_r7 = restoredCtx.$implicit;\n      const ctx_r13 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r13.addToCart(product_r7));\n    });\n    i0.ɵɵtemplate(9, ProductGridComponent_div_11_div_1_ng_container_9_Template, 2, 0, \"ng-container\", 20);\n    i0.ɵɵtemplate(10, ProductGridComponent_div_11_div_1_ng_template_10_Template, 1, 0, \"ng-template\", null, 21, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const product_r7 = ctx.$implicit;\n    const _r10 = i0.ɵɵreference(11);\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", product_r7.imageUrl || \"assets/ipl1.png\", i0.ɵɵsanitizeUrl)(\"alt\", product_r7.name || \"Product\")(\"title\", product_r7.name || \"Product\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(product_r7.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", product_r7.franchiseName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\\u20B9\", product_r7.price, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", ctx_r6.isInCart(product_r7.id))(\"ngClass\", i0.ɵɵpureFunction1(10, _c0, ctx_r6.isInCart(product_r7.id)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.isInCart(product_r7.id))(\"ngIfElse\", _r10);\n  }\n}\nfunction ProductGridComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtemplate(1, ProductGridComponent_div_11_div_1_Template, 12, 12, \"div\", 13);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.products);\n  }\n}\nfunction ProductGridComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 23)(1, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function ProductGridComponent_div_12_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.onPageChange(ctx_r15.page - 1));\n    });\n    i0.ɵɵtext(2, \"Prev\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function ProductGridComponent_div_12_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.onPageChange(ctx_r17.page + 1));\n    });\n    i0.ɵɵtext(6, \"Next\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", ctx_r4.page === 1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"Page \", ctx_r4.page, \" of \", ctx_r4.totalPages, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", ctx_r4.page === ctx_r4.totalPages);\n  }\n}\nexport class ProductGridComponent {\n  constructor(productService, cart) {\n    this.productService = productService;\n    this.cart = cart;\n    this.products = [];\n    this.page = 1;\n    this.pageSize = 12;\n    this.totalProducts = 0;\n    this.loading = false;\n    this.error = null;\n    // filters/controls\n    this.search = '';\n    this.pageSizeOptions = [8, 12, 24, 48];\n    this.cartProductIds = new Set();\n  }\n  ngOnInit() {\n    this.loadProducts();\n    this.cartSub = this.cart.state$.subscribe(state => {\n      this.cartProductIds = new Set(state.items.map(i => i.productId.toString()));\n    });\n  }\n  ngOnDestroy() {\n    if (this.cartSub) this.cartSub.unsubscribe();\n  }\n  get totalPages() {\n    return Math.max(1, Math.ceil(this.totalProducts / this.pageSize));\n  }\n  loadProducts() {\n    this.loading = true;\n    this.error = null;\n    this.productService.getProducts(this.page, this.pageSize).subscribe({\n      next: res => {\n        this.products = (res.items ?? []).map(p => ({\n          ...p,\n          imageUrl: p.imageUrl ?? 'assets/ipl1.png'\n        }));\n        this.totalProducts = res.totalCount ?? this.products.length;\n        this.loading = false;\n      },\n      error: err => {\n        this.error = 'Failed to load products';\n        this.loading = false;\n        console.error(err);\n      }\n    });\n  }\n  onSearch() {\n    if (!this.search.trim()) {\n      this.page = 1;\n      this.loadProducts();\n      return;\n    }\n    this.loading = true;\n    this.error = null;\n    this.productService.searchProducts(this.search).subscribe({\n      next: items => {\n        this.products = (items ?? []).map(p => ({\n          ...p,\n          imageUrl: p.imageUrl ?? 'assets/ipl1.png'\n        }));\n        this.totalProducts = this.products.length;\n        this.page = 1;\n        this.loading = false;\n      },\n      error: err => {\n        this.error = 'Search failed';\n        this.loading = false;\n        console.error(err);\n      }\n    });\n  }\n  onPageChange(page) {\n    if (page < 1 || page > this.totalPages) return;\n    this.page = page;\n    this.loadProducts();\n  }\n  onPageSizeChange() {\n    this.page = 1;\n    this.loadProducts();\n  }\n  addToCart(p) {\n    this.cart.add({\n      productId: p.id,\n      name: p.name ?? 'Product',\n      price: p.price,\n      imageUrl: p.imageUrl ?? 'assets/ipl1.png'\n    }, 1);\n  }\n  isInCart(productId) {\n    return this.cartProductIds.has(productId.toString());\n  }\n}\n_ProductGridComponent = ProductGridComponent;\n_ProductGridComponent.ɵfac = function ProductGridComponent_Factory(t) {\n  return new (t || _ProductGridComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.CartService));\n};\n_ProductGridComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _ProductGridComponent,\n  selectors: [[\"app-product-grid\"]],\n  standalone: true,\n  features: [i0.ɵɵStandaloneFeature],\n  decls: 13,\n  vars: 7,\n  consts: [[1, \"product-grid-container\"], [1, \"grid-toolbar\"], [\"type\", \"text\", \"placeholder\", \"Search products\", 1, \"search-input\", 3, \"ngModel\", \"ngModelChange\", \"keyup.enter\"], [3, \"click\"], [3, \"ngModel\", \"ngModelChange\", \"change\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [\"class\", \"error\", 4, \"ngIf\"], [\"class\", \"product-grid\", 4, \"ngIf\"], [\"class\", \"pagination\", 4, \"ngIf\"], [3, \"value\"], [1, \"error\"], [1, \"product-grid\"], [\"class\", \"product-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"product-card\"], [3, \"src\", \"alt\", \"title\"], [1, \"product-info\"], [\"class\", \"team\", 4, \"ngIf\"], [1, \"price\"], [3, \"disabled\", \"ngClass\", \"click\"], [4, \"ngIf\", \"ngIfElse\"], [\"addText\", \"\"], [1, \"team\"], [1, \"pagination\"], [3, \"disabled\", \"click\"]],\n  template: function ProductGridComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"input\", 2);\n      i0.ɵɵlistener(\"ngModelChange\", function ProductGridComponent_Template_input_ngModelChange_2_listener($event) {\n        return ctx.search = $event;\n      })(\"keyup.enter\", function ProductGridComponent_Template_input_keyup_enter_2_listener() {\n        return ctx.onSearch();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"button\", 3);\n      i0.ɵɵlistener(\"click\", function ProductGridComponent_Template_button_click_3_listener() {\n        return ctx.onSearch();\n      });\n      i0.ɵɵtext(4, \"Search\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"label\");\n      i0.ɵɵtext(6, \" Page size: \");\n      i0.ɵɵelementStart(7, \"select\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function ProductGridComponent_Template_select_ngModelChange_7_listener($event) {\n        return ctx.pageSize = $event;\n      })(\"change\", function ProductGridComponent_Template_select_change_7_listener() {\n        return ctx.onPageSizeChange();\n      });\n      i0.ɵɵtemplate(8, ProductGridComponent_option_8_Template, 2, 2, \"option\", 5);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(9, ProductGridComponent_div_9_Template, 2, 0, \"div\", 6);\n      i0.ɵɵtemplate(10, ProductGridComponent_div_10_Template, 2, 1, \"div\", 7);\n      i0.ɵɵtemplate(11, ProductGridComponent_div_11_Template, 2, 1, \"div\", 8);\n      i0.ɵɵtemplate(12, ProductGridComponent_div_12_Template, 7, 4, \"div\", 9);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.search);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.pageSize);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.pageSizeOptions);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.loading);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.error);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.loading && !ctx.error);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.loading && !ctx.error && ctx.totalPages > 1);\n    }\n  },\n  dependencies: [CommonModule, i3.NgClass, i3.NgForOf, i3.NgIf, FormsModule, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgModel],\n  styles: [\".product-grid-container[_ngcontent-%COMP%] {\\n  margin: 2rem auto;\\n  max-width: 1200px;\\n  padding: 1rem;\\n  background: var(--ipl-bg);\\n  border-radius: 12px;\\n}\\n.product-grid[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));\\n  gap: 1.5rem;\\n}\\n.product-card[_ngcontent-%COMP%] {\\n  background: #fff;\\n  border: 2px solid var(--ipl-accent);\\n  border-radius: 12px;\\n  box-shadow: 0 2px 8px rgba(0,0,0,0.08);\\n  padding: 1rem;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  transition: transform 0.2s, border-color 0.2s;\\n}\\n.product-card[_ngcontent-%COMP%]   button.added[_ngcontent-%COMP%] {\\n  background: #4caf50 !important;\\n  color: #fff !important;\\n  cursor: default !important;\\n  border: 1.5px solid #388e3c !important;\\n}\\n.product-card[_ngcontent-%COMP%]:hover {\\n  transform: translateY(-6px) scale(1.03);\\n  border-color: var(--ipl-primary);\\n  box-shadow: 0 6px 18px rgba(0,51,102,0.15);\\n}\\n.product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n  width: 180px;\\n  height: 220px;\\n  object-fit: cover;\\n  border-radius: 8px;\\n  margin-bottom: 0.5rem;\\n  border: 2px solid var(--ipl-primary);\\n}\\n.product-info[_ngcontent-%COMP%] {\\n  text-align: center;\\n  margin-bottom: 0.5rem;\\n}\\n.product-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  margin: 0.2rem 0;\\n  color: var(--ipl-secondary);\\n  font-size: 1.1rem;\\n}\\n.product-info[_ngcontent-%COMP%]   .team[_ngcontent-%COMP%] {\\n  color: var(--ipl-primary);\\n  font-weight: 600;\\n  font-size: 0.95rem;\\n}\\n.product-info[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%] {\\n  color: var(--ipl-secondary);\\n  font-weight: bold;\\n  font-size: 1.05rem;\\n}\\n.pagination[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  margin-top: 2rem;\\n  gap: 1.5rem;\\n}\\n.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  background: var(--ipl-accent);\\n  color: #fff;\\n  border: none;\\n  border-radius: 4px;\\n  padding: 0.4rem 1rem;\\n  font-size: 1rem;\\n  cursor: pointer;\\n  transition: background 0.2s;\\n}\\n.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled {\\n  background: #ccc;\\n  color: #888;\\n  cursor: not-allowed;\\n}\\n.grid-toolbar[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 1.2rem;\\n  margin-bottom: 1.5rem;\\n  background: #fff;\\n  padding: 1rem 1.5rem;\\n  border-radius: 8px;\\n  box-shadow: 0 1px 6px rgba(0,51,102,0.07);\\n}\\n.grid-toolbar[_ngcontent-%COMP%]   input[type=\\\"text\\\"][_ngcontent-%COMP%], .grid-toolbar[_ngcontent-%COMP%]   input[type=\\\"search\\\"][_ngcontent-%COMP%] {\\n  padding: 0.5rem 1rem;\\n  border: 1.5px solid var(--ipl-accent);\\n  border-radius: 6px;\\n  font-size: 1rem;\\n  outline: none;\\n  background: #fff;\\n  color: var(--ipl-secondary);\\n  transition: border-color 0.2s;\\n}\\n.grid-toolbar[_ngcontent-%COMP%]   input[type=\\\"text\\\"][_ngcontent-%COMP%]:focus, .grid-toolbar[_ngcontent-%COMP%]   input[type=\\\"search\\\"][_ngcontent-%COMP%]:focus {\\n  border-color: var(--ipl-primary);\\n}\\n.grid-toolbar[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n  font-weight: 500;\\n  color: var(--ipl-secondary);\\n  margin-left: 1rem;\\n}\\n.grid-toolbar[_ngcontent-%COMP%]   select[_ngcontent-%COMP%] {\\n  margin-left: 0.5rem;\\n  padding: 0.4rem 1rem;\\n  border: 1.5px solid var(--ipl-accent);\\n  border-radius: 6px;\\n  font-size: 1rem;\\n  background: #fff;\\n  color: var(--ipl-secondary);\\n  transition: border-color 0.2s;\\n}\\n.grid-toolbar[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus {\\n  border-color: var(--ipl-primary);\\n}\\n.search-input[_ngcontent-%COMP%] {\\n  width: 260px;\\n  min-width: 180px;\\n  max-width: 100%;\\n  padding: 0.5rem 1rem;\\n  border: 1.5px solid var(--ipl-accent);\\n  border-radius: 6px;\\n  font-size: 1rem;\\n  outline: none;\\n  background: #fff;\\n  color: var(--ipl-secondary);\\n  transition: border-color 0.2s;\\n  box-sizing: border-box;\\n}\\n.search-input[_ngcontent-%COMP%]:focus {\\n  border-color: var(--ipl-primary);\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcHJvZHVjdHMvcHJvZHVjdC1ncmlkLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxpQkFBaUI7RUFDakIsaUJBQWlCO0VBQ2pCLGFBQWE7RUFDYix5QkFBeUI7RUFDekIsbUJBQW1CO0FBQ3JCO0FBQ0E7RUFDRSxhQUFhO0VBQ2IsMkRBQTJEO0VBQzNELFdBQVc7QUFDYjtBQUNBO0VBQ0UsZ0JBQWdCO0VBQ2hCLG1DQUFtQztFQUNuQyxtQkFBbUI7RUFDbkIsc0NBQXNDO0VBQ3RDLGFBQWE7RUFDYixhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLG1CQUFtQjtFQUNuQiw2Q0FBNkM7QUFDL0M7QUFDQTtFQUNFLDhCQUE4QjtFQUM5QixzQkFBc0I7RUFDdEIsMEJBQTBCO0VBQzFCLHNDQUFzQztBQUN4QztBQUNBO0VBQ0UsdUNBQXVDO0VBQ3ZDLGdDQUFnQztFQUNoQywwQ0FBMEM7QUFDNUM7QUFDQTtFQUNFLFlBQVk7RUFDWixhQUFhO0VBQ2IsaUJBQWlCO0VBQ2pCLGtCQUFrQjtFQUNsQixxQkFBcUI7RUFDckIsb0NBQW9DO0FBQ3RDO0FBQ0E7RUFDRSxrQkFBa0I7RUFDbEIscUJBQXFCO0FBQ3ZCO0FBQ0E7RUFDRSxnQkFBZ0I7RUFDaEIsMkJBQTJCO0VBQzNCLGlCQUFpQjtBQUNuQjtBQUNBO0VBQ0UseUJBQXlCO0VBQ3pCLGdCQUFnQjtFQUNoQixrQkFBa0I7QUFDcEI7QUFDQTtFQUNFLDJCQUEyQjtFQUMzQixpQkFBaUI7RUFDakIsa0JBQWtCO0FBQ3BCO0FBQ0E7RUFDRSxhQUFhO0VBQ2IsdUJBQXVCO0VBQ3ZCLG1CQUFtQjtFQUNuQixnQkFBZ0I7RUFDaEIsV0FBVztBQUNiO0FBQ0E7RUFDRSw2QkFBNkI7RUFDN0IsV0FBVztFQUNYLFlBQVk7RUFDWixrQkFBa0I7RUFDbEIsb0JBQW9CO0VBQ3BCLGVBQWU7RUFDZixlQUFlO0VBQ2YsMkJBQTJCO0FBQzdCO0FBQ0E7RUFDRSxnQkFBZ0I7RUFDaEIsV0FBVztFQUNYLG1CQUFtQjtBQUNyQjtBQUNBO0VBQ0UsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQixXQUFXO0VBQ1gscUJBQXFCO0VBQ3JCLGdCQUFnQjtFQUNoQixvQkFBb0I7RUFDcEIsa0JBQWtCO0VBQ2xCLHlDQUF5QztBQUMzQztBQUNBOztFQUVFLG9CQUFvQjtFQUNwQixxQ0FBcUM7RUFDckMsa0JBQWtCO0VBQ2xCLGVBQWU7RUFDZixhQUFhO0VBQ2IsZ0JBQWdCO0VBQ2hCLDJCQUEyQjtFQUMzQiw2QkFBNkI7QUFDL0I7QUFDQTs7RUFFRSxnQ0FBZ0M7QUFDbEM7QUFDQTtFQUNFLGdCQUFnQjtFQUNoQiwyQkFBMkI7RUFDM0IsaUJBQWlCO0FBQ25CO0FBQ0E7RUFDRSxtQkFBbUI7RUFDbkIsb0JBQW9CO0VBQ3BCLHFDQUFxQztFQUNyQyxrQkFBa0I7RUFDbEIsZUFBZTtFQUNmLGdCQUFnQjtFQUNoQiwyQkFBMkI7RUFDM0IsNkJBQTZCO0FBQy9CO0FBQ0E7RUFDRSxnQ0FBZ0M7QUFDbEM7QUFDQTtFQUNFLFlBQVk7RUFDWixnQkFBZ0I7RUFDaEIsZUFBZTtFQUNmLG9CQUFvQjtFQUNwQixxQ0FBcUM7RUFDckMsa0JBQWtCO0VBQ2xCLGVBQWU7RUFDZixhQUFhO0VBQ2IsZ0JBQWdCO0VBQ2hCLDJCQUEyQjtFQUMzQiw2QkFBNkI7RUFDN0Isc0JBQXNCO0FBQ3hCO0FBQ0E7RUFDRSxnQ0FBZ0M7QUFDbEMiLCJzb3VyY2VzQ29udGVudCI6WyIucHJvZHVjdC1ncmlkLWNvbnRhaW5lciB7XHJcbiAgbWFyZ2luOiAycmVtIGF1dG87XHJcbiAgbWF4LXdpZHRoOiAxMjAwcHg7XHJcbiAgcGFkZGluZzogMXJlbTtcclxuICBiYWNrZ3JvdW5kOiB2YXIoLS1pcGwtYmcpO1xyXG4gIGJvcmRlci1yYWRpdXM6IDEycHg7XHJcbn1cclxuLnByb2R1Y3QtZ3JpZCB7XHJcbiAgZGlzcGxheTogZ3JpZDtcclxuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDIyMHB4LCAxZnIpKTtcclxuICBnYXA6IDEuNXJlbTtcclxufVxyXG4ucHJvZHVjdC1jYXJkIHtcclxuICBiYWNrZ3JvdW5kOiAjZmZmO1xyXG4gIGJvcmRlcjogMnB4IHNvbGlkIHZhcigtLWlwbC1hY2NlbnQpO1xyXG4gIGJvcmRlci1yYWRpdXM6IDEycHg7XHJcbiAgYm94LXNoYWRvdzogMCAycHggOHB4IHJnYmEoMCwwLDAsMC4wOCk7XHJcbiAgcGFkZGluZzogMXJlbTtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4ycywgYm9yZGVyLWNvbG9yIDAuMnM7XHJcbn1cclxuLnByb2R1Y3QtY2FyZCBidXR0b24uYWRkZWQge1xyXG4gIGJhY2tncm91bmQ6ICM0Y2FmNTAgIWltcG9ydGFudDtcclxuICBjb2xvcjogI2ZmZiAhaW1wb3J0YW50O1xyXG4gIGN1cnNvcjogZGVmYXVsdCAhaW1wb3J0YW50O1xyXG4gIGJvcmRlcjogMS41cHggc29saWQgIzM4OGUzYyAhaW1wb3J0YW50O1xyXG59XHJcbi5wcm9kdWN0LWNhcmQ6aG92ZXIge1xyXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNnB4KSBzY2FsZSgxLjAzKTtcclxuICBib3JkZXItY29sb3I6IHZhcigtLWlwbC1wcmltYXJ5KTtcclxuICBib3gtc2hhZG93OiAwIDZweCAxOHB4IHJnYmEoMCw1MSwxMDIsMC4xNSk7XHJcbn1cclxuLnByb2R1Y3QtY2FyZCBpbWcge1xyXG4gIHdpZHRoOiAxODBweDtcclxuICBoZWlnaHQ6IDIyMHB4O1xyXG4gIG9iamVjdC1maXQ6IGNvdmVyO1xyXG4gIGJvcmRlci1yYWRpdXM6IDhweDtcclxuICBtYXJnaW4tYm90dG9tOiAwLjVyZW07XHJcbiAgYm9yZGVyOiAycHggc29saWQgdmFyKC0taXBsLXByaW1hcnkpO1xyXG59XHJcbi5wcm9kdWN0LWluZm8ge1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBtYXJnaW4tYm90dG9tOiAwLjVyZW07XHJcbn1cclxuLnByb2R1Y3QtaW5mbyBoMyB7XHJcbiAgbWFyZ2luOiAwLjJyZW0gMDtcclxuICBjb2xvcjogdmFyKC0taXBsLXNlY29uZGFyeSk7XHJcbiAgZm9udC1zaXplOiAxLjFyZW07XHJcbn1cclxuLnByb2R1Y3QtaW5mbyAudGVhbSB7XHJcbiAgY29sb3I6IHZhcigtLWlwbC1wcmltYXJ5KTtcclxuICBmb250LXdlaWdodDogNjAwO1xyXG4gIGZvbnQtc2l6ZTogMC45NXJlbTtcclxufVxyXG4ucHJvZHVjdC1pbmZvIC5wcmljZSB7XHJcbiAgY29sb3I6IHZhcigtLWlwbC1zZWNvbmRhcnkpO1xyXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gIGZvbnQtc2l6ZTogMS4wNXJlbTtcclxufVxyXG4ucGFnaW5hdGlvbiB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIG1hcmdpbi10b3A6IDJyZW07XHJcbiAgZ2FwOiAxLjVyZW07XHJcbn1cclxuLnBhZ2luYXRpb24gYnV0dG9uIHtcclxuICBiYWNrZ3JvdW5kOiB2YXIoLS1pcGwtYWNjZW50KTtcclxuICBjb2xvcjogI2ZmZjtcclxuICBib3JkZXI6IG5vbmU7XHJcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gIHBhZGRpbmc6IDAuNHJlbSAxcmVtO1xyXG4gIGZvbnQtc2l6ZTogMXJlbTtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgdHJhbnNpdGlvbjogYmFja2dyb3VuZCAwLjJzO1xyXG59XHJcbi5wYWdpbmF0aW9uIGJ1dHRvbjpkaXNhYmxlZCB7XHJcbiAgYmFja2dyb3VuZDogI2NjYztcclxuICBjb2xvcjogIzg4ODtcclxuICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xyXG59XHJcbi5ncmlkLXRvb2xiYXIge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBnYXA6IDEuMnJlbTtcclxuICBtYXJnaW4tYm90dG9tOiAxLjVyZW07XHJcbiAgYmFja2dyb3VuZDogI2ZmZjtcclxuICBwYWRkaW5nOiAxcmVtIDEuNXJlbTtcclxuICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgYm94LXNoYWRvdzogMCAxcHggNnB4IHJnYmEoMCw1MSwxMDIsMC4wNyk7XHJcbn1cclxuLmdyaWQtdG9vbGJhciBpbnB1dFt0eXBlPVwidGV4dFwiXSxcclxuLmdyaWQtdG9vbGJhciBpbnB1dFt0eXBlPVwic2VhcmNoXCJdIHtcclxuICBwYWRkaW5nOiAwLjVyZW0gMXJlbTtcclxuICBib3JkZXI6IDEuNXB4IHNvbGlkIHZhcigtLWlwbC1hY2NlbnQpO1xyXG4gIGJvcmRlci1yYWRpdXM6IDZweDtcclxuICBmb250LXNpemU6IDFyZW07XHJcbiAgb3V0bGluZTogbm9uZTtcclxuICBiYWNrZ3JvdW5kOiAjZmZmO1xyXG4gIGNvbG9yOiB2YXIoLS1pcGwtc2Vjb25kYXJ5KTtcclxuICB0cmFuc2l0aW9uOiBib3JkZXItY29sb3IgMC4ycztcclxufVxyXG4uZ3JpZC10b29sYmFyIGlucHV0W3R5cGU9XCJ0ZXh0XCJdOmZvY3VzLFxyXG4uZ3JpZC10b29sYmFyIGlucHV0W3R5cGU9XCJzZWFyY2hcIl06Zm9jdXMge1xyXG4gIGJvcmRlci1jb2xvcjogdmFyKC0taXBsLXByaW1hcnkpO1xyXG59XHJcbi5ncmlkLXRvb2xiYXIgbGFiZWwge1xyXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgY29sb3I6IHZhcigtLWlwbC1zZWNvbmRhcnkpO1xyXG4gIG1hcmdpbi1sZWZ0OiAxcmVtO1xyXG59XHJcbi5ncmlkLXRvb2xiYXIgc2VsZWN0IHtcclxuICBtYXJnaW4tbGVmdDogMC41cmVtO1xyXG4gIHBhZGRpbmc6IDAuNHJlbSAxcmVtO1xyXG4gIGJvcmRlcjogMS41cHggc29saWQgdmFyKC0taXBsLWFjY2VudCk7XHJcbiAgYm9yZGVyLXJhZGl1czogNnB4O1xyXG4gIGZvbnQtc2l6ZTogMXJlbTtcclxuICBiYWNrZ3JvdW5kOiAjZmZmO1xyXG4gIGNvbG9yOiB2YXIoLS1pcGwtc2Vjb25kYXJ5KTtcclxuICB0cmFuc2l0aW9uOiBib3JkZXItY29sb3IgMC4ycztcclxufVxyXG4uZ3JpZC10b29sYmFyIHNlbGVjdDpmb2N1cyB7XHJcbiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1pcGwtcHJpbWFyeSk7XHJcbn1cclxuLnNlYXJjaC1pbnB1dCB7XHJcbiAgd2lkdGg6IDI2MHB4O1xyXG4gIG1pbi13aWR0aDogMTgwcHg7XHJcbiAgbWF4LXdpZHRoOiAxMDAlO1xyXG4gIHBhZGRpbmc6IDAuNXJlbSAxcmVtO1xyXG4gIGJvcmRlcjogMS41cHggc29saWQgdmFyKC0taXBsLWFjY2VudCk7XHJcbiAgYm9yZGVyLXJhZGl1czogNnB4O1xyXG4gIGZvbnQtc2l6ZTogMXJlbTtcclxuICBvdXRsaW5lOiBub25lO1xyXG4gIGJhY2tncm91bmQ6ICNmZmY7XHJcbiAgY29sb3I6IHZhcigtLWlwbC1zZWNvbmRhcnkpO1xyXG4gIHRyYW5zaXRpb246IGJvcmRlci1jb2xvciAwLjJzO1xyXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbn1cclxuLnNlYXJjaC1pbnB1dDpmb2N1cyB7XHJcbiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1pcGwtcHJpbWFyeSk7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"names":["CommonModule","FormsModule","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","s_r5","ɵɵadvance","ɵɵtextInterpolate","ctx_r2","error","product_r7","franchiseName","ɵɵelementContainerStart","ɵɵelementContainerEnd","ɵɵelement","ɵɵtemplate","ProductGridComponent_div_11_div_1_p_5_Template","ɵɵlistener","ProductGridComponent_div_11_div_1_Template_button_click_8_listener","restoredCtx","ɵɵrestoreView","_r14","$implicit","ctx_r13","ɵɵnextContext","ɵɵresetView","addToCart","ProductGridComponent_div_11_div_1_ng_container_9_Template","ProductGridComponent_div_11_div_1_ng_template_10_Template","ɵɵtemplateRefExtractor","imageUrl","ɵɵsanitizeUrl","name","ɵɵtextInterpolate1","price","ctx_r6","isInCart","id","ɵɵpureFunction1","_c0","_r10","ProductGridComponent_div_11_div_1_Template","ctx_r3","products","ProductGridComponent_div_12_Template_button_click_1_listener","_r16","ctx_r15","onPageChange","page","ProductGridComponent_div_12_Template_button_click_5_listener","ctx_r17","ctx_r4","ɵɵtextInterpolate2","totalPages","ProductGridComponent","constructor","productService","cart","pageSize","totalProducts","loading","search","pageSizeOptions","cartProductIds","Set","ngOnInit","loadProducts","cartSub","state$","subscribe","state","items","map","i","productId","toString","ngOnDestroy","unsubscribe","Math","max","ceil","getProducts","next","res","p","totalCount","length","err","console","onSearch","trim","searchProducts","onPageSizeChange","add","has","ɵɵdirectiveInject","i1","ProductService","i2","CartService","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","ProductGridComponent_Template","rf","ctx","ProductGridComponent_Template_input_ngModelChange_2_listener","$event","ProductGridComponent_Template_input_keyup_enter_2_listener","ProductGridComponent_Template_button_click_3_listener","ProductGridComponent_Template_select_ngModelChange_7_listener","ProductGridComponent_Template_select_change_7_listener","ProductGridComponent_option_8_Template","ProductGridComponent_div_9_Template","ProductGridComponent_div_10_Template","ProductGridComponent_div_11_Template","ProductGridComponent_div_12_Template","i3","NgClass","NgForOf","NgIf","i4","NgSelectOption","ɵNgSelectMultipleOption","DefaultValueAccessor","SelectControlValueAccessor","NgControlStatus","NgModel","styles"],"sources":["C:\\Users\\vishnu.reddy\\works\\iplfranchis\\IPLFranchises\\FranchisClient\\src\\app\\products\\product-grid.component.ts","C:\\Users\\vishnu.reddy\\works\\iplfranchis\\IPLFranchises\\FranchisClient\\src\\app\\products\\product-grid.component.html"],"sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { ProductService } from '../core/services/product.service';\r\nimport { CartService } from '../core/services/cart.service';\r\nimport { Product } from '../core/models/product.model';\r\n\r\n@Component({\r\n  selector: 'app-product-grid',\r\n  standalone: true,\r\n  imports: [CommonModule, FormsModule],\r\n  templateUrl: './product-grid.component.html',\r\n  styleUrls: ['./product-grid.component.css']\r\n})\r\nexport class ProductGridComponent implements OnInit, OnDestroy {\r\n  products: Product[] = [];\r\n  page = 1;\r\n  pageSize = 12;\r\n  totalProducts = 0;\r\n  loading = false;\r\n  error: string | null = null;\r\n\r\n  // filters/controls\r\n  search = '';\r\n  pageSizeOptions = [8, 12, 24, 48];\r\n\r\n  cartProductIds = new Set<string>();\r\n  private cartSub?: any;\r\n\r\n  constructor(private productService: ProductService, private cart: CartService) {}\r\n\r\n  ngOnInit() {\r\n    this.loadProducts();\r\n    this.cartSub = this.cart.state$.subscribe(state => {\r\n      this.cartProductIds = new Set(state.items.map(i => i.productId.toString()));\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.cartSub) this.cartSub.unsubscribe();\r\n  }\r\n\r\n  get totalPages(): number {\r\n    return Math.max(1, Math.ceil(this.totalProducts / this.pageSize));\r\n  }\r\n\r\n  loadProducts() {\r\n    this.loading = true;\r\n    this.error = null;\r\n    this.productService.getProducts(this.page, this.pageSize).subscribe({\r\n      next: (res) => {\r\n        this.products = (res.items ?? []).map(p => ({ ...p, imageUrl: p.imageUrl ?? 'assets/ipl1.png' }));\r\n        this.totalProducts = res.totalCount ?? this.products.length;\r\n        this.loading = false;\r\n      },\r\n      error: (err) => {\r\n        this.error = 'Failed to load products';\r\n        this.loading = false;\r\n        console.error(err);\r\n      }\r\n    });\r\n  }\r\n\r\n  onSearch() {\r\n    if (!this.search.trim()) {\r\n      this.page = 1;\r\n      this.loadProducts();\r\n      return;\r\n    }\r\n    this.loading = true;\r\n    this.error = null;\r\n    this.productService.searchProducts(this.search).subscribe({\r\n      next: (items) => {\r\n        this.products = (items ?? []).map(p => ({ ...p, imageUrl: p.imageUrl ?? 'assets/ipl1.png' }));\r\n        this.totalProducts = this.products.length;\r\n        this.page = 1;\r\n        this.loading = false;\r\n      },\r\n      error: (err) => {\r\n        this.error = 'Search failed';\r\n        this.loading = false;\r\n        console.error(err);\r\n      }\r\n    });\r\n  }\r\n\r\n  onPageChange(page: number) {\r\n    if (page < 1 || page > this.totalPages) return;\r\n    this.page = page;\r\n    this.loadProducts();\r\n  }\r\n\r\n  onPageSizeChange() {\r\n    this.page = 1;\r\n    this.loadProducts();\r\n  }\r\n\r\n  addToCart(p: Product) {\r\n    this.cart.add({\r\n      productId: p.id,\r\n      name: p.name ?? 'Product',\r\n      price: p.price,\r\n      imageUrl: p.imageUrl ?? 'assets/ipl1.png'\r\n    }, 1);\r\n  }\r\n\r\n  isInCart(productId: string | number): boolean {\r\n    return this.cartProductIds.has(productId.toString());\r\n  }\r\n}\r\n","<div class=\"product-grid-container\">\r\n  <div class=\"grid-toolbar\">\r\n    <input type=\"text\" class=\"search-input\" [(ngModel)]=\"search\" (keyup.enter)=\"onSearch()\" placeholder=\"Search products\" />\r\n    <button (click)=\"onSearch()\">Search</button>\r\n    <label>\r\n      Page size:\r\n      <select [(ngModel)]=\"pageSize\" (change)=\"onPageSizeChange()\">\r\n        <option *ngFor=\"let s of pageSizeOptions\" [value]=\"s\">{{ s }}</option>\r\n      </select>\r\n    </label>\r\n  </div>\r\n\r\n  <div *ngIf=\"loading\">Loading products…</div>\r\n  <div *ngIf=\"error\" class=\"error\">{{ error }}</div>\r\n\r\n  <div class=\"product-grid\" *ngIf=\"!loading && !error\">\r\n    <div class=\"product-card\" *ngFor=\"let product of products\">\r\n      <img [src]=\"product.imageUrl || 'assets/ipl1.png'\" [alt]=\"product.name || 'Product'\" [title]=\"product.name || 'Product'\" />\r\n      <div class=\"product-info\">\r\n        <h3>{{ product.name }}</h3>\r\n        <p class=\"team\" *ngIf=\"product.franchiseName\">{{ product.franchiseName }}</p>\r\n        <p class=\"price\">₹{{ product.price }}</p>\r\n      </div>\r\n      <button \r\n        [disabled]=\"isInCart(product.id)\"\r\n        (click)=\"addToCart(product)\"\r\n        [ngClass]=\"{'added': isInCart(product.id)}\">\r\n        <ng-container *ngIf=\"isInCart(product.id); else addText\">\r\n          ✓ Added to Cart\r\n        </ng-container>\r\n        <ng-template #addText>Add to Cart</ng-template>\r\n      </button>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"pagination\" *ngIf=\"!loading && !error && totalPages > 1\">\r\n    <button (click)=\"onPageChange(page-1)\" [disabled]=\"page === 1\">Prev</button>\r\n    <span>Page {{page}} of {{totalPages}}</span>\r\n    <button (click)=\"onPageChange(page+1)\" [disabled]=\"page === totalPages\">Next</button>\r\n  </div>\r\n</div>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}